<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 é¦¬ä¾†è¥¿äºé›™åŸæ¼«éŠ | æ·±åº¦è±å¯Œç‰ˆ</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        nanyang: {
                            50: '#fcfaf8', // èƒŒæ™¯ç±³è‰²
                            100: '#f3ece6',
                            200: '#e7d5c0',
                            500: '#d97706', // ç¥ç€é»ƒ (é‡é»è‰²)
                            700: '#0f766e', // å¾©å¤ç¶  (æ¨™é¡Œ/æŒ‰éˆ•)
                            900: '#78350f', // æ·±è¤ (æ–‡å­—)
                        }
                    }
                }
            }
        }
    </script>

    <!-- Leaflet CSS & JS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: #fcfaf8; color: #4a4a4a; }
        
        /* Hide scrollbar for clean UI */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Map Container - Adjusted for vertical layout */
        #map-container { height: 400px; width: 100%; position: relative; border-radius: 12px; overflow: hidden; }
        #map { height: 100%; width: 100%; z-index: 10; }
        
        /* Sections are now just stacked blocks */
        .section-block { 
            padding: 2rem 1rem; 
            border-bottom: 1px dashed #e5e7eb;
            scroll-margin-top: 70px; /* For anchor scrolling */
        }
        .section-block:last-child { border-bottom: none; }

        /* Sub-View Toggle (Map vs List) */
        .view-toggle-btn.active {
            background-color: #d97706;
            color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="bg-nanyang-50">

    <!-- DATA STORAGE (JSON) -->
    <script>
        const travelData = {
            meta: {
                title: "2026 é¦¬ä¾†è¥¿äºé›™åŸæ…¢æ´»ä¹‹æ—…",
                dates: "2026/02/26 - 03/05",
                travelers: "æ…¢æ´»è€é¥•"
            },
            stats: {
                labels: ['Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5', 'Day 6', 'Day 7', 'Day 8'],
                intensity: [4, 8, 9, 6, 7, 8, 9, 3] 
            },
            days: [
                {
                    day: 1, date: "2/26 (å››)", city: "æª³åŸ", title: "æŠµé”æª³åŸï¼šç¾é£Ÿé¦¬æ‹‰æ¾",
                    locations: [
                        { time: "16:25", title: "æª³åŸæ©Ÿå ´ (PEN)", type: "transport", coords: [5.2942, 100.2592], desc: "ç­æ©Ÿ FD321 æŠµé”ã€‚è«‹å‚™å¦¥è­·ç…§ï¼Œè¾¦ç†å…¥å¢ƒç´„éœ€ 40-60 åˆ†é˜ã€‚" },
                        { time: "18:30", title: "Veno Hotel", type: "stay", coords: [5.4164, 100.3233], desc: "æ­ä¹˜ Grab æŠµé” (ç´„ RM30)ã€‚ä½æ–¼ä¸­è·¯ï¼Œåœ°ç†ä½ç½®çµ•ä½³ï¼Œæ”¾ä¸‹è¡Œæç¨ä½œä¼‘æ¯ã€‚" },
                        { time: "19:30", title: "ä¸­è·¯å¤§æ’æª”", type: "food", coords: [5.4160, 100.3235], desc: "é£¯åº—ä¸‹æ¨“å³é”ã€‚æ¨è–¦ï¼šæª³åŸè ”ç…ï¼ˆè›‹é¦™æ¿ƒéƒï¼‰ã€ç‚­ç‡’é›ç¿…ã€ç‚’ç²¿æ¢ã€‚" },
                        { time: "21:00", title: "æ±•é ­è¡— (Kimberley St)", type: "food", coords: [5.4162, 100.3326], desc: "å®µå¤œæˆ°å ´ï¼å¿…åƒå››å¤§å¤©ç‹ï¼šæ¬Šè¨˜é´¨ç²¥ç²¿æ±ï¼ˆæ¹¯é ­æ¿ƒéƒï¼‰ã€å¤©çš‡é›è…³ã€å››æœæ¹¯ã€‚" }
                    ]
                },
                {
                    day: 2, date: "2/27 (äº”)", city: "æª³åŸ", title: "å–¬æ²»å¸‚ï¼šå¤è¹Ÿèˆ‡å¨˜æƒ¹",
                    locations: [
                        { time: "09:30", title: "è§€éŸ³äº­ (Kuan Im Teng)", type: "culture", coords: [5.4198, 100.3377], desc: "æª³åŸæœ€å¤è€è¯äººå»Ÿå®‡ï¼Œé¦™ç«é¼ç››ã€‚é †è·¯å¯çœ‹æ—é‚Šçš„è–å–¬æ²»æ•™å ‚ (St. George's Church)ã€‚" },
                        { time: "11:00", title: "å¼µå¼¼å£«æ•…å±… (è—å±‹)", type: "culture", coords: [5.4222, 100.3353], desc: "ã€é ç´„åˆ¶ã€‘åƒåŠ  11:00 å°è¦½ã€‚é€™åº§é›è—è‰²è±ªå®…æ›¾ç²è¯åˆåœ‹æ•™ç§‘æ–‡çµ„ç¹”çï¼Œå»ºç¯‰ç´°ç¯€æ¥µç¾ã€‚" },
                        { time: "12:30", title: "å°å°åº¦ (Little India)", type: "food", coords: [5.4168, 100.3396], desc: "åˆé¤é«”é©—ï¼šåœ¨é¦™æ–™å‘³ä¸­ç”¨æ‰‹æŠ“é¦™è•‰è‘‰é£¯ (Banana Leaf Rice)ï¼Œå†ä¾†ä¸€æ¯ç†±æ‹‰èŒ¶ (Teh Tarik)ã€‚" },
                        { time: "14:00", title: "å¨˜æƒ¹åšç‰©é¤¨", type: "culture", coords: [5.4173, 100.3414], desc: "åƒè§€æµ·å³½è¯äººå¯Œå•†çš„å¥¢è¯ç”Ÿæ´»ï¼Œæ•¸åƒä»¶é‡‘é£¾èˆ‡ç²¾ç¾é¤å…·ï¼Œæ˜¯äº†è§£å³‡å³‡å¨˜æƒ¹æ–‡åŒ–çš„æœ€ä½³åœ°é»ã€‚" },
                        { time: "16:00", title: "æœ¬é ­å…¬å·· (å£ç•«è¡—)", type: "culture", coords: [5.4148, 100.3382], desc: "æ•£æ­¥å°‹æ‰¾ã€Œå§Šå¼Ÿå…±é¨ã€ã€ã€Œçˆ¬ç‰†å°å­©ã€ç­‰è‘—åéµç·šç•«èˆ‡å£ç•«ï¼Œé©åˆåˆå¾Œæ¼«æ­¥ã€‚" },
                        { time: "17:30", title: "åº·è¯åˆ©æ–¯å ¡ & ç´€å¿µç¢‘", type: "culture", coords: [5.4206, 100.3435], desc: "æª³åŸæœ€å¤è€çš„æ˜Ÿå½¢è¦å¡ï¼Œæ—é‚Šæµ·æ¿±æœ‰äºŒæˆ°ç´€å¿µç¢‘ï¼Œé©åˆçœ‹æµ·å¹é¢¨ã€‚" },
                        { time: "18:30", title: "å§“å‘¨æ©‹ (Chew Jetty)", type: "view", coords: [5.4125, 100.3395], desc: "æœ€å®Œæ•´çš„æ°´ä¸Šäººå®¶èšè½ï¼Œå‚æ™šå¤•é™½æ˜ ç…§åœ¨æœ¨æ£§é“ä¸Šéå¸¸ç¾ï¼Œæœ‰äº›è¨±ç´€å¿µå“å°åº—ã€‚" },
                        { time: "19:30", title: "ç‰›å¹²å†¬ (Chulia St)", type: "food", coords: [5.4182, 100.3365], desc: "æ™šé¤ï¼šè‘—åçš„é›²åéºµï¼ˆçš®è–„é¤¡å¤šï¼‰ã€å’–å“©éºµã€‚é€™è£¡ä¹Ÿæ˜¯èƒŒåŒ…å®¢èšé›†åœ°ï¼Œæ°›åœç†±é¬§ã€‚" }
                    ]
                },
                {
                    day: 3, date: "2/28 (å…­)", city: "æª³åŸ", title: "äºä¾æ·¡ï¼šå±±æµ·ç‡ˆå½±",
                    locations: [
                        { time: "10:30", title: "å…‰å¤§ (KOMTAR)", type: "view", coords: [5.4146, 100.3297], desc: "æŒ‘æˆ° 68 æ¨“å½©è™¹ç»ç’ƒæ­¥é“ (The Gravityz)ï¼Œ360åº¦ä¿¯ç°å–¬æ²»å¸‚å…¨æ™¯ã€‚æ¨“ä¸‹å¯é †ä¾¿åƒè‘—åçš„ã€Œæª³åŸè·¯é¦³åæ½®å·ç…è•Šã€ã€‚" },
                        { time: "13:00", title: "äºä¾æ·¡å·´å‰å»æ²™", type: "food", coords: [5.4011, 100.2783], desc: "æ¥µæ¨‚å¯ºè…³ä¸‹çš„å‚³å¥‡ç¾é£Ÿã€‚æ¹¯é ­å……æ»¿é­šè‚‰ç¢èˆ‡è¦è†é¦™æ°£ï¼Œé…¸è¾£é–‹èƒƒã€‚" },
                        { time: "14:30", title: "å‡æ——å±± (Penang Hill)", type: "view", coords: [5.4085, 100.2771], desc: "æ­ä¹˜çºœè»Šä¸Šå±±é¿æš‘ã€‚æ¨è–¦åƒè§€ The Habitat ç”Ÿæ…‹å…¬åœ’èˆ‡ Curtis Crest æ¨¹é ‚æ­¥é“ã€‚" },
                        { time: "17:30", title: "æ¥µæ¨‚å¯º (Kek Lok Si)", type: "culture", coords: [5.3996, 100.2736], desc: "æ±å—äºæœ€å¤§ä½›å¯ºã€‚åƒè§€è¬ä½›å¯¶å¡”èˆ‡å·¨å¤§çš„è§€éŸ³è–åƒã€‚å¾å‡æ——å±±ä¸‹å±±å¾Œæ­ Grab 5åˆ†é˜å³é”ã€‚" },
                        { time: "19:00", title: "æ¥µæ¨‚å¯ºæ–°æ˜¥ç‡ˆæœƒ", type: "view", coords: [5.3996, 100.2736], desc: "ã€è¾²æ›†å¹´é™å®šã€‘å…¨å¯ºè¬ç›ç‡ˆç± é½Šäº®ï¼Œæ•´åº§å±±é ­é‡‘ç¢§è¼ç…Œã€‚å»ºè­°å¾…åˆ°å¤©é»‘ (ç´„ 19:30) æ‹æ”æœ€ä½³æ•ˆæœã€‚" }
                    ]
                },
                {
                    day: 4, date: "3/1 (æ—¥)", city: "é›™åŸ", title: "ç§»å‹•æ—¥ï¼šè½‰å ´å‰éš†å¡",
                    locations: [
                        { time: "08:30", title: "å‰å¯§è¬å±± (Chowrasta)", type: "shopping", coords: [5.4175, 100.3318], desc: "æª³åŸæœ€è€èœå¸‚å ´ã€‚æ¡è²·ç¾çƒ¤è±†æ²™é¤…ã€é¦¬è¹„é…¥ç•¶ä¼´æ‰‹ç¦®ï¼Œæ„Ÿå—åœ¨åœ°æ—©å¸‚æ´»åŠ›ã€‚" },
                        { time: "09:30", title: "ä¸ƒæ¢è·¯å·´å‰", type: "food", coords: [5.4042, 100.3312], desc: "æœ€å¾Œæ—©é¤ï¼šé´¨è‚‰ç²¿æ¢æ¹¯ï¼ˆæ¹¯é ­æ¸…ç”œï¼‰ã€æ›¼ç…ç³•ï¼ˆåšå¯¦èŠ±ç”Ÿé¤¡ï¼‰ã€‚" },
                        { time: "13:25", title: "æª³åŸæ©Ÿå ´ (PEN)", type: "transport", coords: [5.2942, 100.2592], desc: "æ­ä¹˜ AK6125 å‰å¾€å‰éš†å¡ã€‚åœ‹å…§ç·šç„¡éœ€éæµ·é—œï¼Œä½†ä»éœ€æŸ¥é©—è­‰ä»¶ã€‚" },
                        { time: "14:30", title: "KLIA T2", type: "transport", coords: [2.7433, 101.6981], desc: "æŠµé”å‰éš†å¡ã€‚æ­ä¹˜æ©Ÿå ´å¿«ç·š (KLIA Ekspres) è‡³ KL Sentral (ç´„ 35åˆ†)ã€‚" },
                        { time: "16:00", title: "Sleeping Lion Suites", type: "stay", coords: [3.1472, 101.7135], desc: "å¾ KL Sentral è½‰ä¹˜å–®è»Œ (Monorail) è‡³ Bukit Bintang ç«™ï¼Œæ­¥è¡Œè‡³é£¯åº—è¾¦ç†å…¥ä½ã€‚" },
                        { time: "18:00", title: "KLCC & Saloma Link", type: "view", coords: [3.1579, 101.7116], desc: "æ¬£è³é›™å­æ˜Ÿå¡”å¤œæ™¯èˆ‡éŸ³æ¨‚å™´æ³‰ã€‚æ­¥è¡Œè‡³ Saloma Link è¡Œäººå¤©æ©‹æ‹æ”ç§‘å¹»æ„Ÿå¤œæ™¯ã€‚" }
                    ]
                },
                {
                    day: 5, date: "3/2 (ä¸€)", city: "å‰éš†å¡", title: "è€åŸå€èˆ‡é–‹é½‹å¸‚é›†",
                    locations: [
                        { time: "10:00", title: "å ç¾å›æ•™å ‚", type: "culture", coords: [3.1492, 101.6958], desc: "å‰éš†å¡ç™¼æºåœ°ï¼ˆå…©æ²³äº¤åŒ¯è™•ï¼‰ï¼Œåƒè§€æ‘©çˆ¾å¼å»ºç¯‰ã€‚æ—é‚Šå°±æ˜¯ã€Œç”Ÿå‘½ä¹‹æ²³ã€æ™¯è§€ã€‚" },
                        { time: "11:00", title: "ç¨ç«‹å»£å ´", type: "view", coords: [3.1491, 101.6937], desc: "æ‹ç…§æ‰“å¡ï¼šè˜‡ä¸¹é˜¿éƒ½æ²™æœ«å¤§å»ˆã€å·¨å¤§çš„é¦¬ä¾†è¥¿äºåœ‹æ——ã€‚" },
                        { time: "12:00", title: "ä¸­å¤®å¸‚å ´ (Central Market)", type: "shopping", coords: [3.1453, 101.6953], desc: "æœ‰å†·æ°£çš„å·¥è—å“å¸‚é›†ï¼Œé©åˆè²·è ŸæŸ“ã€æœ¨é›•ã€‚äºŒæ¨“æœ‰ç¾é£Ÿè¡—å¯ç°¡å–®åˆé¤ã€‚" },
                        { time: "14:30", title: "é™³æ°æ›¸é™¢ & é¬¼ä»”å··", type: "culture", coords: [3.1432, 101.6975], desc: "èŒ¨å» è¡—å‘¨é‚Šã€‚é¬¼ä»”å··æœ‰å¾©å¤å£ç•«ï¼Œé™³æ°æ›¸é™¢å‰‡æœ‰ç²¾ç¾çš„å»£æ±é™¶å¡‘ã€‚" },
                        { time: "16:30", title: "ç”˜æ¦œå³‡é­¯å¸‚é›† (Kg Baru)", type: "food", coords: [3.1618, 101.7037], desc: "ã€é½‹æˆ’æœˆé™å®šã€‘å‰éš†å¡æœ€è‘—åçš„ Ramadan Bazaarã€‚èƒŒæ™¯æ˜¯é›™å­å¡”ï¼Œå‰æ™¯æ˜¯å‚³çµ±é«˜è…³å±‹èˆ‡ç„¡æ•¸ç¾é£Ÿæ”¤ä½ã€‚é«”é©—é–‹é½‹å‰çš„ç†±é¬§ã€‚" },
                        { time: "19:00", title: "äºç¾…è¡— (Jalan Alor)", type: "food", coords: [3.1458, 101.7088], desc: "è§€å…‰å®¢å¿…å»çš„ç¾é£Ÿè¡—ã€‚æ¨è–¦ï¼šé»ƒäºè¯ç‡’é›ç¿¼ã€çƒ¤é­”é¬¼é­šã€æ²™çˆ¹ã€‚" }
                    ]
                },
                {
                    day: 6, date: "3/3 (äºŒ)", city: "å‰éš†å¡", title: "å·´ç”Ÿè‚‰éª¨èŒ¶ & å…ƒå®µ",
                    locations: [
                        { time: "09:30", title: "å·´ç”Ÿç››ç™¼è‚‰éª¨èŒ¶", type: "food", coords: [3.0415, 101.4484], desc: "æ­ Grab (ç´„50åˆ†) å‰å¾€å·´ç”Ÿã€‚æ¨è–¦ã€Œæ©‹åº•ã€è€åº—ï¼Œæ¹¯é ­æ¿ƒéƒï¼Œå¿…åŠ é»ã€Œä¹¾è‚‰éª¨èŒ¶ã€è¶…ä¸‹é£¯ã€‚" },
                        { time: "13:30", title: "The Exchange TRX", type: "shopping", coords: [3.1432, 101.7183], desc: "å‰éš†å¡æœ€æ–°åœ°æ¨™å•†å ´ã€‚é ‚æ¨“æœ‰ç©ºä¸­èŠ±åœ’ (TRX City Park)ï¼Œé©åˆåˆå¾Œæ•£æ­¥æ‹ç…§ã€‚" },
                        { time: "18:30", title: "å¤©åå®® (Thean Hou)", type: "culture", coords: [3.1213, 101.6871], desc: "ã€å…ƒå®µç¯€é‡é»ã€‘è¬ç›ç´…ç‡ˆç± é½Šäº®ï¼Œæ˜¯å¤§é¦¬æ–°å¹´æœ€ç¾çš„å ´æ™¯ã€‚äººæ½®çœ¾å¤šï¼Œå»ºè­°ææ—©æŠµé”ä¸¦é ç´„å›ç¨‹è»Šè¼›ã€‚" }
                    ]
                },
                {
                    day: 7, date: "3/4 (ä¸‰)", city: "å‰éš†å¡", title: "é»‘é¢¨æ´ & åº·æ¨‚å¤œå¸‚",
                    locations: [
                        { time: "08:00", title: "é»‘é¢¨æ´ (Batu Caves)", type: "culture", coords: [3.2374, 101.6839], desc: "è¶æ—©å‡ºç™¼é¿é–‹çƒˆæ—¥ã€‚æŒ‘æˆ° 272 ç´šå½©è‰²éšæ¢¯èˆ‡å·¨å¤§é‡‘ç¥åƒã€‚æ³¨æ„ï¼šåš´ç¦çŸ­è¤²çŸ­è£™ï¼Œå°å¿ƒçŒ´å­ã€‚" },
                        { time: '11:30', title: 'æŸå¨å¹´ (Pavilion KL)', type: 'shopping', coords: [3.1488, 101.7133], desc: 'å‰éš†å¡æœ€ç¹è¯çš„è³¼ç‰©ä¸­å¿ƒï¼Œå“ç‰Œé½Šå…¨ã€‚åˆé¤å¯åœ¨æ­¤äº«ç”¨ï¼Œé †ä¾¿å¹å†·æ°£ä¼‘æ¯ã€‚' },
                        { time: "18:30", title: "åº·æ¨‚å¤œå¸‚ (Connaught)", type: "food", coords: [3.0817, 101.7348], desc: "ã€é€±ä¸‰é™å®šã€‘å…¨é¦¬æœ€é•· 2 å…¬é‡Œå¤œå¸‚ã€‚å¿…åƒï¼šè‡­è±†è…ã€å’–å“©é­šè›‹ã€ç‚¸é›ªç³•ã€‚è«‹æ­ MRT ç¶ ç·šè‡³ Taman Connaught ç«™ä»¥é¿é–‹å¡è»Šã€‚" }
                    ]
                },
                {
                    day: 8, date: "3/5 (å››)", city: "å‰éš†å¡", title: "å¹³å®‰è¿”å°",
                    locations: [
                        { time: "09:30", title: "æ­¦å‰å…ç™»æ—©åˆé¤", type: "food", coords: [3.1466, 101.7114], desc: "æœ€å¾Œå·¡ç¦®ã€‚æ‰¾ä¸€å®¶å‚³çµ± Kopitiam åƒæµ·å—åå¸é…åŠç”Ÿç†Ÿè›‹ã€‚" },
                        { time: "11:30", title: "å‰å¾€æ©Ÿå ´", type: "transport", coords: [3.1472, 101.7135], desc: "é ç•™ 3 å°æ™‚ä»¥ä¸Šå‰å¾€æ©Ÿå ´ã€‚T1 èˆªå»ˆè¾¦ç†ç™»æ©Ÿã€‚" },
                        { time: "14:35", title: "å‰éš†å¡æ©Ÿå ´ (KUL)", type: "transport", coords: [2.7433, 101.6981], desc: "æ­ä¹˜ CI722 è¿”å°ã€‚æ©Ÿå ´å…ç¨…åº—å¯æœ€å¾Œæ¡è²·ã€‚" }
                    ]
                }
            ],
            tips: [
                { icon: "fa-car", title: "äº¤é€š", desc: "å…¨ç¨‹æ¨è–¦ä½¿ç”¨ Grab (ç¶å®šä¿¡ç”¨å¡)ã€‚åº·æ¨‚å¤œå¸‚è«‹æ­ MRT ä»¥å…å¡è»Šã€‚" },
                { icon: "fa-shirt", title: "ç©¿è‘—", desc: "é»‘é¢¨æ´èˆ‡æ¸…çœŸå¯ºåš´æ ¼ç¦æ­¢çŸ­è¤²/çŸ­è£™ã€‚è«‹éš¨èº«æ”œå¸¶è–„å¤–å¥—ã€‚" },
                { icon: "fa-moon", title: "é½‹æˆ’æœˆ", desc: "3æœˆç‚ºç©†æ–¯æ—é½‹æˆ’æœˆï¼Œ19:15å‰é¿å…ç•¶è¡—å¤§åƒå¤§å–ã€‚" },
                { icon: "fa-passport", title: "å…¥å¢ƒ", desc: "æŠµé”å‰3å¤©å¡«å¯« MDAC é›»å­å…¥å¢ƒå¡ã€‚" }
            ]
        };
    </script>

    <!-- HEADER (Sticky) -->
    <div class="bg-white shadow-md z-50 sticky top-0">
        <div class="px-6 py-4 flex justify-between items-center border-b border-nanyang-100 bg-nanyang-50">
            <div>
                <h1 class="text-xl font-bold text-nanyang-900 tracking-wide">ğŸ‡²ğŸ‡¾ é›™åŸæ…¢æ´»ä¹‹æ—…</h1>
                <p class="text-xs text-gray-500 mt-1">2026/02/26 - 03/05 â€¢ æª³åŸ & å‰éš†å¡</p>
            </div>
            <div class="text-nanyang-500 text-2xl">
                <i class="fa-solid fa-umbrella-beach"></i>
            </div>
        </div>
    </div>

    <!-- MAIN CONTAINER (Vertical Scroll) -->
    <main class="max-w-3xl mx-auto pb-20">
        
        <!-- BLOCK 1: OVERVIEW -->
        <section class="section-block bg-white">
            <h2 class="text-xl font-bold text-nanyang-700 mb-4 pl-2 border-l-4 border-nanyang-500">è¡Œç¨‹ç¸½è¦½</h2>
            
            <div class="bg-white rounded-2xl p-4 shadow-sm border border-nanyang-100 mb-4">
                <h3 class="text-sm font-bold text-gray-500 mb-2">æ¯æ—¥é«”åŠ›å¼·åº¦</h3>
                <div style="height: 200px;">
                    <canvas id="tripChart"></canvas>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <div class="bg-nanyang-100 p-4 rounded-xl">
                    <div class="text-2xl font-bold text-nanyang-900">8 å¤©</div>
                    <div class="text-xs text-gray-600">æ—…ç¨‹ç¸½å¤©æ•¸</div>
                </div>
                <div class="bg-nanyang-100 p-4 rounded-xl">
                    <div class="text-2xl font-bold text-nanyang-900">2 åŸ</div>
                    <div class="text-xs text-gray-600">é›™åŸè·¨è¶Š</div>
                </div>
            </div>
        </section>

        <!-- BLOCK 2: ITINERARY -->
        <section class="section-block bg-white mt-2">
            <h2 class="text-xl font-bold text-nanyang-700 mb-4 pl-2 border-l-4 border-nanyang-500">æ¯æ—¥è©³ç´°è¡Œç¨‹</h2>
            
            <!-- Day Selector (Sticky within content) -->
            <div class="sticky top-[72px] z-40 bg-white/95 backdrop-blur py-3 border-b border-gray-100 -mx-4 px-4 mb-4 shadow-sm">
                <div id="day-tabs" class="flex overflow-x-auto no-scrollbar space-x-2">
                    <!-- JS populated -->
                </div>
            </div>

            <!-- View Toggle -->
            <div class="flex justify-center mb-6">
                <div class="bg-nanyang-50 p-1 rounded-lg border border-gray-200 flex shadow-sm">
                    <button onclick="switchItineraryView('list')" id="btn-view-list" class="view-toggle-btn active px-6 py-1.5 rounded-md text-sm font-bold transition-all text-gray-500">
                        <i class="fa-solid fa-list-ul mr-1"></i> åˆ—è¡¨
                    </button>
                    <button onclick="switchItineraryView('map')" id="btn-view-map" class="view-toggle-btn px-6 py-1.5 rounded-md text-sm font-bold transition-all text-gray-500">
                        <i class="fa-regular fa-map mr-1"></i> åœ°åœ–
                    </button>
                </div>
            </div>

            <div class="relative min-h-[400px]">
                
                <!-- LIST VIEW -->
                <div id="view-list" class="block animate-fade-in">
                    <div class="mb-4 text-center">
                        <h3 id="list-day-title" class="text-lg font-bold text-nanyang-900"></h3>
                        <p id="list-day-city" class="text-sm text-gray-500 flex items-center justify-center gap-1 mt-1"></p>
                    </div>
                    <div id="timeline-container" class="space-y-0 px-2">
                        <!-- JS Injected -->
                    </div>
                </div>

                <!-- MAP VIEW -->
                <div id="view-map" class="hidden animate-fade-in">
                    <div id="map-container" class="shadow-inner border border-gray-200">
                        <div id="map"></div>
                    </div>
                    <!-- Map Info Box -->
                    <div class="mt-4 p-4 bg-nanyang-50 rounded-xl border border-nanyang-100">
                        <h4 class="font-bold text-nanyang-900 mb-2 text-sm">ä»Šæ—¥è·¯ç·šç«™é»</h4>
                        <div id="map-route-list" class="text-sm text-gray-600 space-y-1"></div>
                    </div>
                </div>

            </div>
        </section>

        <!-- BLOCK 3: ACCOMMODATION & FLIGHTS -->
        <section class="section-block bg-white mt-2">
            <h2 class="text-xl font-bold text-nanyang-700 mb-4 pl-2 border-l-4 border-nanyang-500">ä½å®¿èˆ‡èˆªç­</h2>
            
            <div class="space-y-6">
                <!-- Accommodation Cards -->
                <div class="grid gap-4 md:grid-cols-2">
                    <div class="bg-white p-5 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition">
                        <div class="flex justify-between items-start mb-2">
                            <span class="text-xs font-bold bg-nanyang-100 text-nanyang-800 px-2 py-1 rounded">æª³åŸ (Day 1-4)</span>
                            <a href="https://www.google.com/maps/search/?api=1&query=Veno+Hotel+Penang" target="_blank" class="text-nanyang-500 text-sm font-bold flex items-center gap-1">
                                <i class="fa-solid fa-location-arrow"></i> å°èˆª
                            </a>
                        </div>
                        <h4 class="font-bold text-gray-800 text-lg mb-1">Veno Hotel</h4>
                        <p class="text-sm text-gray-500 mb-3"><i class="fa-solid fa-map-pin mr-1"></i>111, Jalan Macalister, George Town</p>
                        <div class="bg-gray-50 p-3 rounded-lg text-xs text-gray-600 border border-gray-100">
                            <div class="font-bold mb-1 text-gray-700">æ©Ÿå ´äº¤é€š (PEN â†’ Hotel)</div>
                            <div class="flex justify-between">
                                <span><i class="fa-solid fa-car mr-1"></i>Grab</span>
                                <span>~ RM 30 / 40 åˆ†é˜</span>
                            </div>
                        </div>
                        <div class="mt-2 text-xs text-nanyang-600 flex items-center gap-1">
                            <i class="fa-solid fa-star"></i> ä¸‹æ¨“å³æ˜¯ä¸­è·¯å¤§æ’æª”ç¾é£Ÿå€
                        </div>
                    </div>

                    <div class="bg-white p-5 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition">
                        <div class="flex justify-between items-start mb-2">
                            <span class="text-xs font-bold bg-nanyang-100 text-nanyang-800 px-2 py-1 rounded">å‰éš†å¡ (Day 4-8)</span>
                            <a href="https://www.google.com/maps/search/?api=1&query=Sleeping+Lion+Suites+Kuala+Lumpur" target="_blank" class="text-nanyang-500 text-sm font-bold flex items-center gap-1">
                                <i class="fa-solid fa-location-arrow"></i> å°èˆª
                            </a>
                        </div>
                        <h4 class="font-bold text-gray-800 text-lg mb-1">Sleeping Lion Suites</h4>
                        <p class="text-sm text-gray-500 mb-3"><i class="fa-solid fa-map-pin mr-1"></i>Jalan Walter Grenier, Bukit Bintang</p>
                        <div class="bg-gray-50 p-3 rounded-lg text-xs text-gray-600 border border-gray-100">
                            <div class="font-bold mb-1 text-gray-700">æ©Ÿå ´äº¤é€š (KUL â†’ Hotel)</div>
                            <div class="flex justify-between">
                                <span><i class="fa-solid fa-train mr-1"></i>KLIA Ekspres + Monorail</span>
                                <span>~ RM 60 / 50 åˆ†é˜</span>
                            </div>
                        </div>
                        <div class="mt-2 text-xs text-nanyang-600 flex items-center gap-1">
                            <i class="fa-solid fa-star"></i> æ­¥è¡Œå¯é”æŸå¨å¹´å»£å ´ (Pavilion)
                        </div>
                    </div>
                </div>

                <!-- Flight Table -->
                <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                    <div class="bg-nanyang-50 px-4 py-2 border-b border-nanyang-100 font-bold text-nanyang-800 text-sm">
                        <i class="fa-solid fa-plane-departure mr-2"></i>èˆªç­è¡Œç¨‹è¡¨
                    </div>
                    <div class="divide-y divide-gray-100">
                        <!-- Flight 1 -->
                        <div class="p-4 flex flex-col gap-2">
                            <div class="flex justify-between items-center">
                                <span class="font-bold text-gray-800">FD 321</span>
                                <span class="text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded">å»ç¨‹</span>
                            </div>
                            <div class="text-sm text-gray-600 flex justify-between">
                                <span>æ›¼è°· (DMK) <i class="fa-solid fa-arrow-right mx-1 text-xs"></i> æª³åŸ (PEN)</span>
                                <span class="font-mono font-bold">16:25 æŠµé”</span>
                            </div>
                            <div class="text-xs text-orange-600 mt-1 bg-orange-50 p-2 rounded">
                                <i class="fa-regular fa-clock mr-1"></i> å»ºè­° 17:40 é›¢é–‹æ©Ÿå ´ (é ç•™é€šé—œæ™‚é–“)
                            </div>
                        </div>
                        <!-- Flight 2 -->
                        <div class="p-4 flex flex-col gap-2">
                            <div class="flex justify-between items-center">
                                <span class="font-bold text-gray-800">AK 6125</span>
                                <span class="text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded">åœ‹å…§ç·š</span>
                            </div>
                            <div class="text-sm text-gray-600 flex justify-between">
                                <span>æª³åŸ (PEN) <i class="fa-solid fa-arrow-right mx-1 text-xs"></i> å‰éš†å¡ (KUL)</span>
                                <span class="font-mono font-bold">13:25 èµ·é£›</span>
                            </div>
                            <div class="text-xs text-orange-600 mt-1 bg-orange-50 p-2 rounded">
                                <i class="fa-regular fa-clock mr-1"></i> å»ºè­° 11:30 å¾é£¯åº—å‡ºç™¼
                            </div>
                        </div>
                        <!-- Flight 3 -->
                        <div class="p-4 flex flex-col gap-2">
                            <div class="flex justify-between items-center">
                                <span class="font-bold text-gray-800">CI 722</span>
                                <span class="text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded">å›ç¨‹</span>
                            </div>
                            <div class="text-sm text-gray-600 flex justify-between">
                                <span>å‰éš†å¡ (KUL) <i class="fa-solid fa-arrow-right mx-1 text-xs"></i> å°åŒ— (TPE)</span>
                                <span class="font-mono font-bold">14:35 èµ·é£›</span>
                            </div>
                            <div class="text-xs text-orange-600 mt-1 bg-orange-50 p-2 rounded">
                                <i class="fa-regular fa-clock mr-1"></i> å»ºè­° 11:30 å‡ºç™¼å‰å¾€ T1 èˆªå»ˆ
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- BLOCK 4: TIPS -->
        <section class="section-block bg-white mt-2">
            <h2 class="text-xl font-bold text-nanyang-700 mb-4 pl-2 border-l-4 border-nanyang-500">å¯¦ç”¨è³‡è¨Š</h2>
            <div id="tips-list" class="grid gap-3">
                <!-- JS Populated -->
            </div>
        </section>

        <!-- FOOTER -->
        <footer class="text-center py-8 text-gray-400 text-xs">
            Â© 2026 é¦¬ä¾†è¥¿äºé›™åŸæ¼«éŠ
        </footer>

    </main>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- 1. STATE MANAGEMENT ---
        let map;
        let currentMarkers = [];
        let currentPolyline = null;
        let currentChart = null;
        let currentDayIndex = 0;

        // --- 2. INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            renderChart();
            initMap();
            renderDayTabs();
            renderTips();
            
            // Default to Day 1
            renderDay(0);
        });

        function switchItineraryView(view) {
            const listEl = document.getElementById('view-list');
            const mapEl = document.getElementById('view-map');
            const btnList = document.getElementById('btn-view-list');
            const btnMap = document.getElementById('btn-view-map');

            if (view === 'list') {
                listEl.classList.remove('hidden');
                mapEl.classList.add('hidden');
                btnList.classList.add('active');
                btnMap.classList.remove('active');
            } else {
                listEl.classList.add('hidden');
                mapEl.classList.remove('hidden');
                btnList.classList.remove('active');
                btnMap.classList.add('active');
                setTimeout(() => { map.invalidateSize(); fitBoundsToCurrentDay(); }, 200);
            }
        }

        // --- 3. CHART.JS ---
        function renderChart() {
            const ctx = document.getElementById('tripChart').getContext('2d');
            currentChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: travelData.stats.labels,
                    datasets: [{
                        label: 'é«”åŠ›å¼·åº¦',
                        data: travelData.stats.intensity,
                        backgroundColor: '#d97706',
                        borderRadius: 6,
                        barThickness: 15
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { beginAtZero: true, max: 10, grid: { display: false } },
                        x: { grid: { display: false } }
                    }
                }
            });
        }

        // --- 4. LEAFLET MAP & ITINERARY LOGIC ---
        function initMap() {
            map = L.map('map', { zoomControl: false }).setView([4.2105, 101.9758], 6);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; OpenStreetMap',
                maxZoom: 19
            }).addTo(map);
        }

        function renderDayTabs() {
            const container = document.getElementById('day-tabs');
            travelData.days.forEach((day, index) => {
                const btn = document.createElement('button');
                btn.className = `day-tab-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-bold border transition-all ${index === 0 ? 'bg-nanyang-500 text-white border-nanyang-500' : 'bg-white text-gray-500 border-gray-200'}`;
                btn.innerText = `Day ${day.day}`;
                btn.onclick = (e) => {
                    document.querySelectorAll('.day-tab-btn').forEach(b => {
                        b.className = 'day-tab-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-bold border bg-white text-gray-500 border-gray-200';
                    });
                    e.target.className = 'day-tab-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-bold border bg-nanyang-500 text-white border-nanyang-500 shadow-md';
                    
                    renderDay(index);
                };
                container.appendChild(btn);
            });
        }

        function fitBoundsToCurrentDay() {
            const dayData = travelData.days[currentDayIndex];
            const latlngs = dayData.locations.map(loc => loc.coords);
            if (latlngs.length > 0) {
                map.flyToBounds(L.latLngBounds(latlngs), { padding: [50, 50], duration: 1 });
            }
        }

        function renderDay(index) {
            currentDayIndex = index;
            const dayData = travelData.days[index];
            
            // Update Text Info
            document.getElementById('list-day-title').innerText = `${dayData.date} ${dayData.title}`;
            document.getElementById('list-day-city').innerHTML = `<i class="fa-solid fa-location-dot text-nanyang-500"></i> ${dayData.city}`;

            // --- MAP UPDATE ---
            currentMarkers.forEach(m => map.removeLayer(m));
            currentMarkers = [];
            if (currentPolyline) map.removeLayer(currentPolyline);

            const latlngs = [];
            const routeListContainer = document.getElementById('map-route-list');
            routeListContainer.innerHTML = '';

            dayData.locations.forEach((loc, i) => {
                // Marker
                const markerHtml = `<div class="flex items-center justify-center w-6 h-6 bg-nanyang-700 text-white rounded-full text-xs font-bold border-2 border-white shadow-md">${i + 1}</div>`;
                const icon = L.divIcon({ className: 'custom-div-icon', html: markerHtml, iconSize: [24, 24], iconAnchor: [12, 12] });
                const marker = L.marker(loc.coords, { icon: icon }).bindPopup(`<b>${loc.time} ${loc.title}</b>`).addTo(map);
                currentMarkers.push(marker);
                latlngs.push(loc.coords);

                // Map Route List (Simple)
                routeListContainer.insertAdjacentHTML('beforeend', `
                    <div class="flex items-center gap-2 py-1">
                        <span class="text-xs font-bold text-nanyang-500 w-4">${i+1}.</span>
                        <span class="truncate">${loc.title}</span>
                    </div>
                `);
            });

            if (latlngs.length > 0) {
                currentPolyline = L.polyline(latlngs, { color: '#d97706', weight: 4, dashArray: '1, 6' }).addTo(map);
                // Update map view if map mode is currently active
                if (!document.getElementById('view-map').classList.contains('hidden')) {
                    map.flyToBounds(L.latLngBounds(latlngs), { padding: [50, 50], duration: 1 });
                }
            }

            // --- TIMELINE UPDATE (List View) ---
            const timelineContainer = document.getElementById('timeline-container');
            timelineContainer.innerHTML = '';

            dayData.locations.forEach((loc, i) => {
                const isLast = i === dayData.locations.length - 1;
                const iconClass = getIconByType(loc.type);
                
                const html = `
                    <div class="relative pl-6 ${!isLast ? 'pb-8 border-l-2 border-nanyang-200' : ''}">
                        <div class="absolute -left-[7px] top-0 w-4 h-4 rounded-full bg-white border-2 border-nanyang-500 box-border"></div>
                        <div class="bg-white p-4 rounded-xl border border-nanyang-100 shadow-sm hover:shadow-md transition-shadow">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-xs font-bold text-white bg-nanyang-500 px-2 py-0.5 rounded">${loc.time}</span>
                                <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(loc.title)}" target="_blank" class="text-blue-500 text-xs font-bold flex items-center gap-1 bg-blue-50 px-2 py-1 rounded-full">
                                    <i class="fa-solid fa-location-arrow"></i> å°èˆª
                                </a>
                            </div>
                            <h4 class="font-bold text-gray-800 text-lg flex items-center gap-2">
                                ${loc.title}
                            </h4>
                            <p class="text-sm text-gray-500 mt-1">${loc.desc}</p>
                        </div>
                    </div>
                `;
                timelineContainer.insertAdjacentHTML('beforeend', html);
            });
        }

        // --- 6. HELPERS ---
        function getIconByType(type) {
            switch(type) {
                case 'food': return 'fa-utensils';
                case 'stay': return 'fa-bed';
                case 'transport': return 'fa-plane';
                case 'culture': return 'fa-gopuram';
                case 'shopping': return 'fa-bag-shopping';
                default: return 'fa-location-dot';
            }
        }

        function renderTips() {
            const container = document.getElementById('tips-list');
            travelData.tips.forEach(tip => {
                container.insertAdjacentHTML('beforeend', `
                    <div class="bg-white p-4 rounded-xl shadow-sm border-l-4 border-nanyang-500">
                        <div class="flex items-center gap-3 mb-2">
                            <i class="fa-solid ${tip.icon} text-xl text-nanyang-500"></i>
                            <h4 class="font-bold text-gray-800">${tip.title}</h4>
                        </div>
                        <p class="text-sm text-gray-600">${tip.desc}</p>
                    </div>
                `);
            });
        }
    </script>
</body>
</html>